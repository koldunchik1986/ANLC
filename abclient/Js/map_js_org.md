# Анализ map.js.org

**Расположение:** `abclient/Js/map.js.org`

**Назначение:**
Этот JavaScript-файл, как и `map.js.abc`, является базовой реализацией карты, вероятно, более старой или предназначенной для использования без глубокой интеграции с нативным C#-приложением. Его функциональность сосредоточена на отображении карты, перемещении и управлении таймерами.

**Ключевые особенности:**

*   **Базовая карта:** Отображает карту с фиксированными размерами (`width = 3`, `height = 1`).
*   **Перемещение:** Содержит логику для перемещения по карте (`move()`, `loadPath()`, `moveMapTo()`).
*   **Таймеры:** Управляет таймерами для отображения времени (`timerst()`).
*   **Курсор и транспорт:** Функции для отображения курсора и транспортных средств (`createCursor()`, `showCursor()`, `showTransport()`).
*   **Обработка событий:** Содержит функции для обработки кликов по кнопкам (`ButClick()`) и обновления состояния (`StateReady()`).

**Взаимодействие с C#:**

В этом файле **не обнаружено прямых вызовов к `window.external`**. Это делает его идентичным `map.js.abc` в плане отсутствия взаимодействия с C#-логикой через `window.external`. Это подтверждает, что `map.js` является основной версией, используемой для интеграции с C#-приложением.

**Связь с Android-портом:**

Как и в случае с `map.js.abc`, функциональность этого файла может быть перенесена в Android WebView путем инъекции этого JavaScript-кода. Поскольку нет прямых вызовов к `@JavascriptInterface`, этот файл не требует создания соответствующих методов в Kotlin. Если этот файл используется в приложении, необходимо убедиться, что все необходимые данные (например, `map` и `mapbt` переменные) доступны для JavaScript.
